# 11-01-HW

# Домашнее задание к занятию "`Базы данных, их типы`" - `Доготер Егор`


### Задание 1 СУБД

Кейс
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для каждой предметной области.

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему?

### 1.  Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков. СУБД должна гарантировать целостность и чёткую структуру данных.

#### Ответ:
>Для данной задачи подойдет любая из распространных реляционных бд по типу: PostgreSQL, MS SQL Server, Oracle но лучше всего под конкретно эту задачу справиться что-то наподобии ClickHouse из-за формата чтения не построчного, а по колонкам и более простой масштабируемости, однако если необоходимо более стандартный или сертифированный подход лучше обратиться к стандартным реляционным СУБД как представленные выше.

### 1.1.*  Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы?

#### Ответ:
>Если данный вопрос относится конкретно к СУБД то лучше использвать встроенные hash-функции для каждой отдельной СУБД они как правило свои, если речь о доставке данных то тут уже зависит от архитектуры проекта.

### 1.2.  Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? СУБД должны быть гибкими и быстрыми.

#### Ответ:
>Для лендингов NoSQL на подобии MongoDB для хранения страниц так как нужна скорость, малое количество связей, структура вполне вероятно часто меняется и легче масштабировать, для CRM необоходима реляционная СУБД для обозначения четский связей данных, транзакционность, а также аналитику как в пункте 1. считаю лучше всего использовать PostgreSQL.

### 1.2.*  Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?

#### Ответ:
>Впонле вероятно можно использовать связку PostgreSQL + JSONB но это будет хорошо работать лишь при средней нагрузке или NewSQL но найти человека который будет в ней разбираться скорее всего сложновато.

### 1.3.  Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.

#### Ответ:
>Document-ориентированная NoSQL MongoDB или Elasticsearch при необоходимости поиска
Удобная структура и можно выстроить иерархию, хороший поиск по тексту

### 1.3.*  Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это реализовать?

#### Ответ:
>Ответ на задание 1.2 вполне подойдет

### 1.4.  Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать со связями.

#### Ответ:
>NoSQL Графовые СУБД как пример Neo4j 

### 1.4.*  Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД логистов?

#### Ответ:
>Установления связей между SQL и NoSQL возможны через api или kafka как пример

### 1.5.*  Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?

#### Ответ:
>PostgreSQL с добавлениями компонентов по типо JSONB как в пункте 1.2


### Задание 2. Транзакции

### 2.1.  Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы транзакция завершилась успешно. Ориентируйтесь на шесть действий.

#### Ответ:
    1. Проверка пользователя и платёжных данных
    2. Проверка наличия средств
    3. Блокировка(замарозка) суммы
    4. Списание средств
    5. Зачисление средств оператору
    6. Подтверждение транзакции

### 2.1.*  Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?

#### Ответ:
>К предыдущим 6 еще:
    1. Проверка дат (расписания)
    2. Повторные попытки при сбое
    3. Логирование
    4. Чек (уведомление пользователя)

### Задание 3. SQL vs NoSQL

### 3.1.  Напишите пять преимуществ SQL-систем по отношению к NoSQL.

#### Ответ:
    1. Строгая архитектура данных
    2. ACID-транзакции
    3. Сложные JOIN-запросы
    4. Стандартизация
    5. Высокая надёжность

### 3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.

#### Ответ:
    1. ACID + горизонтальное масштабирование
    2. Высокая отказоустойчивость
    3. Распределённые транзакции
    4. Поддержка SQL

### Задание 4. Кластеры

Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу выделено 1000 машин.
На основе какого критерия будете выбирать тип СУБД и какая модель распределённых вычислений здесь справится лучше всего и почему?

#### Ответ:
>Вполне вероятно хорошо подойдет какая-либо из NewSQL, но я остановлюсь на ClickHouse из-за более мощного комюнити в связи с чем улучшается взаимодейстие с СУБД, а сам ClickHouse прекрасно подходит для аналитики и подсчётов на больших кластерах в связи с чем он и используется во многих утилитах работающих с большим объемом данных в том числе и отечественные. Если использовать ClickHouse то модель которое используется у него Massively Parallel Processing (MPP) другие будут банально медленнее 
